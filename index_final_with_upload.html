<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üé¨ CineXpress by Chandan Kar</title>
  <style>
    body{margin:0;font-family:sans-serif;background:#111;color:#eee}
    header{background:#222;padding:10px;display:flex;justify-content:space-between;align-items:center}
    header h1{margin:0;font-size:1.2rem;color:#e50914}
    nav a{color:#eee;margin:0 6px;text-decoration:none}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:12px;padding:12px}
    .card{background:#1d1d1d;padding:8px;border-radius:8px;box-shadow:0 0 4px #000}
    .card img{width:100%;border-radius:4px}
    footer{text-align:center;padding:15px;background:#222;margin-top:20px;font-size:.8rem}
    .hidden{display:none}
    .form{padding:12px;background:#1d1d1d;margin:12px;border-radius:8px}
    .form input,.form textarea,.form select{width:100%;margin:6px 0;padding:6px;border-radius:4px;border:none}
    button{background:#e50914;color:#fff;border:none;padding:6px 10px;border-radius:4px;cursor:pointer}
    table{width:100%;border-collapse:collapse;margin-top:10px}
    th,td{border:1px solid #444;padding:6px;text-align:left}
    th{background:#333}
  </style>
</head>
<body>
<header>
  <h1>CineXpress</h1>
  <nav>
    <a href="#home" onclick="showPage('home')">Home</a>
    <a href="#settings" onclick="showPage('settings')">Settings</a>
  </nav>
</header>

<main>
  <section id="home" class="page"></section>
  <section id="settings" class="page hidden">
    <h2>Settings</h2>
    <button onclick="adminLogin()">üîë Admin Login</button>
    <div id="adminPanel" class="hidden">
      <h3>Add Movie</h3>
      <div class="form">
        <input id="movieTitle" placeholder="Movie Title">
        <textarea id="movieDesc" placeholder="Description"></textarea>
        <input id="movieLink" placeholder="Google Drive Link">
        <input type="file" id="posterFile" accept="image/*">
        <button onclick="addMovie()">Add Movie</button>
      </div>
      <div id="movieTable"></div>
    </div>
  </section>
</main>

<footer>
  ¬© 2025 CineXpress by Chandan Kar ‚Äì Free Professional HTML Movie Website
</footer>

<script>
const KEY_MOVIES="movies_upload";
let movies=JSON.parse(localStorage.getItem(KEY_MOVIES)||"[]");
const ADMIN_PASS="admin123";
let adminUnlocked=false;

function saveAll(){localStorage.setItem(KEY_MOVIES,JSON.stringify(movies));}
function showPage(id){document.querySelectorAll('.page').forEach(p=>p.classList.add('hidden'));document.getElementById(id).classList.remove('hidden');if(id==='home') renderMovies();if(id==='settings' && adminUnlocked) renderMovieTable();}

function renderMovies(){
  const home=document.getElementById('home');
  home.innerHTML='<div class="grid"></div>';
  const grid=home.querySelector('.grid');
  movies.forEach(m=>{
    const div=document.createElement('div');
    div.className='card';
    div.innerHTML=`<img src="${m.poster}"><h4>${m.title}</h4><p>${m.desc||''}</p><a href="${m.link}" target="_blank"><button>Download</button></a>`;
    grid.appendChild(div);
  });
}

function adminLogin(){
  const pass=prompt("Enter admin password:");
  if(pass===ADMIN_PASS){
    adminUnlocked=true;
    document.getElementById('adminPanel').classList.remove('hidden');
    renderMovieTable();
  }else{alert("Wrong password!");}
}

function addMovie(){
  if(!adminUnlocked){alert("Admin only");return;}
  const title=document.getElementById('movieTitle').value;
  const desc=document.getElementById('movieDesc').value;
  const link=document.getElementById('movieLink').value;
  const file=document.getElementById('posterFile').files[0];
  if(!title||!link||!file){alert("Fill all fields and select poster");return;}
  const reader=new FileReader();
  reader.onload=function(){
    const poster=reader.result;
    const m={id:Date.now().toString(),title,desc,link,poster};
    movies.unshift(m);
    saveAll();
    renderMovies();
    renderMovieTable();
    alert("Movie added!");
  };
  reader.readAsDataURL(file);
}

function renderMovieTable(){
  const tbl=document.getElementById('movieTable');
  if(!movies.length){tbl.innerHTML="<p>No movies yet.</p>";return;}
  let html="<table><tr><th>Poster</th><th>Title</th><th>Actions</th></tr>";
  movies.forEach(m=>{
    html+=`<tr><td><img src="${m.poster}" width="40"></td><td>${m.title}</td>
    <td><button onclick="deleteMovie('${m.id}')">üóëÔ∏è</button></td></tr>`;
  });
  html+="</table>";
  tbl.innerHTML=html;
}

function deleteMovie(id){
  if(confirm("Delete this movie?")){
    movies=movies.filter(x=>x.id!==id);
    saveAll();
    renderMovies();
    renderMovieTable();
  }
}

if(!movies.length){
  movies=[{id:"1",title:"Sample Movie",poster:"https://via.placeholder.com/300x400",desc:"Demo description",link:"https://drive.google.com"}];
  saveAll();
}
renderMovies();
</script>
</body>
</html>