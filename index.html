<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cinexpress ‚Äì Movies by Chandan Kar</title>
  <style>
    body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#0d0d0d;color:#fff;}
    header{background:#141414;padding:15px;display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;z-index:100;}
    header h1{margin:0;font-size:22px;color:#e50914;}
    header nav a{color:#fff;text-decoration:none;margin:0 10px;font-weight:bold;}
    header nav a:hover{color:#e50914;}

    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:15px;padding:20px;}
    .card{background:#1a1a1a;border-radius:8px;overflow:hidden;box-shadow:0 2px 6px rgba(0,0,0,0.6);transition:transform .2s;}
    .card:hover{transform:scale(1.03);}
    .card img{width:100%;height:270px;object-fit:cover;}
    .card .info{padding:10px;}
    .card h4{margin:0 0 6px;font-size:16px;color:#fff;}
    .card p{margin:0;font-size:13px;color:#aaa;height:30px;overflow:hidden;}
    .card a{display:inline-block;margin-top:8px;padding:6px 10px;background:#e50914;color:#fff;font-size:13px;border-radius:4px;text-decoration:none;}
    .card a:hover{background:#b20710;}

    footer{text-align:center;padding:15px;background:#141414;color:#aaa;margin-top:20px;font-size:.85rem;}

    /* Admin Panel */
    #adminPanel{display:none;margin-top:15px;background:#1a1a1a;padding:20px;border-radius:6px;}
    #adminPanel input,#adminPanel textarea{width:100%;margin:6px 0;padding:8px;border-radius:4px;border:none;}
    #adminPanel button{background:#e50914;color:#fff;border:none;padding:8px 12px;border-radius:4px;cursor:pointer;}
  </style>
</head>
<body>
<header>
  <h1>Cinexpress</h1>
  <nav>
    <a href="#home" onclick="showPage('home')">Home</a>
    <a href="#settings" onclick="showPage('settings')">Settings</a>
  </nav>
</header>

<main>
  <section id="home" class="page"></section>

  <section id="settings" class="page hidden" style="padding:20px;">
    <h2>Settings</h2>
    <button onclick="adminLogin()">üîë Admin Login</button>
    <div id="adminPanel">
      <h3>Add Movie</h3>
      <input id="movieTitle" placeholder="Movie Title">
      <textarea id="movieDesc" placeholder="Description"></textarea>
      <input id="movieLink" placeholder="Google Drive Link">
      <input type="file" id="posterFile" accept="image/*">
      <button onclick="addMovie()">Add Movie</button>
      <div id="movieTable"></div>
    </div>
  </section>
</main>

<footer>
  ¬© 2025 Cinexpress by Chandan Kar
</footer>

<script>
const KEY_MOVIES="movies_upload";
let movies=JSON.parse(localStorage.getItem(KEY_MOVIES)||"[]");
const ADMIN_PASS="Bristi@@@";
let adminUnlocked=false;

function saveAll(){localStorage.setItem(KEY_MOVIES,JSON.stringify(movies));}
function showPage(id){
  document.querySelectorAll('.page').forEach(p=>p.classList.add('hidden'));
  document.getElementById(id).classList.remove('hidden');
  if(id==='home') renderMovies();
  if(id==='settings' && adminUnlocked) renderMovieTable();
}

function renderMovies(){
  const home=document.getElementById('home');
  home.innerHTML='<div class="grid"></div>';
  const grid=home.querySelector('.grid');
  movies.forEach(m=>{
    const div=document.createElement('div');
    div.className='card';
    div.innerHTML=`
      <img src="${m.poster}">
      <div class="info">
        <h4>${m.title}</h4>
        <p>${m.desc||''}</p>
        <a href="${m.link}" target="_blank">Download</a>
      </div>`;
    grid.appendChild(div);
  });
}

function adminLogin(){
  const pass=prompt("Enter admin password:");
  if(pass===ADMIN_PASS){
    adminUnlocked=true;
    document.getElementById('adminPanel').style.display="block";
    renderMovieTable();
  }else{alert("Wrong password!");}
}

function addMovie(){
  if(!adminUnlocked){alert("Admin only");return;}
  const title=document.getElementById('movieTitle').value;
  const desc=document.getElementById('movieDesc').value;
  const link=document.getElementById('movieLink').value;
  const file=document.getElementById('posterFile').files[0];
  if(!title||!link||!file){alert("Fill all fields and select poster");return;}
  const reader=new FileReader();
  reader.onload=function(){
    const poster=reader.result;
    const m={id:Date.now().toString(),title,desc,link,poster};
    movies.unshift(m);
    saveAll();
    renderMovies();
    renderMovieTable();
  };
  reader.readAsDataURL(file);
}

function renderMovieTable(){
  const tbl=document.getElementById('movieTable');
  if(!movies.length){tbl.innerHTML="<p>No movies yet.</p>";return;}
  let html="<table><tr><th>Poster</th><th>Title</th><th>Actions</th></tr>";
  movies.forEach(m=>{
    html+=`<tr><td><img src="${m.poster}" width="40"></td><td>${m.title}</td>
    <td><button onclick="deleteMovie('${m.id}')">üóëÔ∏è</button></td></tr>`;
  });
  html+="</table>";
  tbl.innerHTML=html;
}

function deleteMovie(id){
  if(confirm("Delete this movie?")){
    movies=movies.filter(x=>x.id!==id);
    saveAll();
    renderMovies();
    renderMovieTable();
  }
}

if(!movies.length){
  movies=[{id:"1",title:"Sample Movie",poster:"https://via.placeholder.com/300x400",desc:"Demo description",link:"https://drive.google.com"}];
  saveAll();
}
renderMovies();
</script>
</body>
</html>
